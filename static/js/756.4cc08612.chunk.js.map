{"version":3,"file":"static/js/756.4cc08612.chunk.js","mappings":"0NAMMA,EAAUC,EAAAA,GAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,+IAQpBC,EAAQJ,EAAAA,GAAOK,GAAEC,IAAAA,GAAAH,EAAAA,EAAAA,GAAA,yDAIjBI,EAAS,CACbC,SAAU,CACRC,KAAM,GAERC,WAAY,CACVD,KAAM,KAGJE,EAAa,CACjBD,WAAY,CACVE,OAAQ,EACRH,KAAM,KA4GV,UAxGkB,WAChB,IAAQI,GAAcC,EAAAA,EAAAA,KAAdD,UACFE,GAAWC,EAAAA,EAAAA,MAgCjB,OACEC,EAAAA,EAAAA,MAAClB,EAAO,CAAAmB,SAAA,EACNC,EAAAA,EAAAA,KAACf,EAAK,CAAAc,SAAC,kBACPD,EAAAA,EAAAA,MAACG,EAAAA,GAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACCd,GAAM,IACVe,KAAK,QACLC,SArCW,SAACC,GAChBX,EAAUY,YAAYD,EAAOE,UAC7Bb,EAAUc,YAAYH,EAAOI,UAC7Bf,EAAUgB,WACPC,MAAK,SAACC,GACLhB,EAAS,IACX,IACCiB,OAAM,SAACC,GACNC,QAAQC,IAAI,+DACd,GACJ,EA4BMC,eA1BiB,SAACC,GACtBH,QAAQC,IAAI,UAAWE,EACzB,EAwBqCnB,SAAA,EAE/BC,EAAAA,EAAAA,KAACC,EAAAA,EAAKkB,KAAI,CACRC,MAAM,qBACNjB,KAAK,WACLkB,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,kCAEX,CAEEC,UAlCa,SAACC,EAAMC,GAC9B,MAAI,KAAKC,KAAKD,GAAeE,QAAQC,OAAO,gEACxCH,EAAMI,OAAS,GAAKJ,EAAMI,OAAS,GAC9BF,QAAQC,OAAO,iDACjBD,QAAQG,SACjB,IA+BUhC,UAEFC,EAAAA,EAAAA,KAACgC,EAAAA,EAAK,OAGRhC,EAAAA,EAAAA,KAACC,EAAAA,EAAKkB,KAAI,CACRC,MAAM,eACNjB,KAAK,WACLkB,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,4BAEX,CACEU,IAAK,EACLV,QAAS,mCAEX,CACEW,IAAK,GACLX,QAAS,qCAEXxB,UAEFC,EAAAA,EAAAA,KAACgC,EAAAA,EAAMG,SAAQ,OAGjBnC,EAAAA,EAAAA,KAACC,EAAAA,EAAKkB,KAAI,CACRC,MAAM,2BACNjB,KAAK,kBACLkB,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,wCA5DG,SAAHa,GAAA,IAAMC,EAAaD,EAAbC,cAAa,MAAQ,CAC9Cb,UAAS,SAACC,EAAMC,GACd,OAAIW,EAAc,cAAgBX,EAAcE,QAAQG,UACjDH,QAAQC,OAAO,6CACxB,EACD,GA0DS9B,UAEFC,EAAAA,EAAAA,KAACgC,EAAAA,EAAMG,SAAQ,OAEjBnC,EAAAA,EAAAA,KAACC,EAAAA,EAAKkB,MAAIjB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAKV,GAAU,IAAAO,UACvBC,EAAAA,EAAAA,KAACsC,EAAAA,GAAM,CAACC,KAAK,UAAUC,SAAS,SAAQzC,SAAC,0BAOnD,C","sources":["pages/Register.js"],"sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useStores } from \"../stores\";\r\nimport { Form, Input, Button } from \"antd\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Wrapper = styled.div`\r\n  max-width: 600px;\r\n  margin: 30px auto;\r\n  box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.2);\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n`;\r\nconst layout = {\r\n  labelCol: {\r\n    span: 6,\r\n  },\r\n  wrapperCol: {\r\n    span: 18,\r\n  },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: {\r\n    offset: 6,\r\n    span: 18,\r\n  },\r\n};\r\n\r\nconst Component = () => {\r\n  const { AuthStore } = useStores();\r\n  const navigate = useNavigate();\r\n  const onFinish = (values) => {\r\n    AuthStore.setUsername(values.username);\r\n    AuthStore.setPassword(values.password);\r\n    AuthStore.register()\r\n      .then((res) => {\r\n        navigate(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"登录失败，什么都不做\");\r\n      });\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n\r\n  const validateUsername = (rule, value) => {\r\n    if (/\\W/.test(value)) return Promise.reject(\"只能是字母数字下划线\");\r\n    if (value.length < 4 || value.length > 10)\r\n      return Promise.reject(\"长度为4～10个字符\");\r\n    return Promise.resolve();\r\n  };\r\n\r\n  //  函数 返回的对象所以加了（）\r\n  const validateConfirm = ({ getFieldValue }) => ({\r\n    validator(rule, value) {\r\n      if (getFieldValue(\"password\") === value) return Promise.resolve();\r\n      return Promise.reject(\"两次密码不一致\");\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Title>注册</Title>\r\n      <Form\r\n        {...layout}\r\n        name=\"basic\"\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n      >\r\n        <Form.Item\r\n          label=\"用户名\"\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"输入用户名\",\r\n            },\r\n            {\r\n              // validator： 后面加函数\r\n              validator: validateUsername,\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"密码\"\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"输入密码\",\r\n            },\r\n            {\r\n              min: 4,\r\n              message: \"最少4个字符\",\r\n            },\r\n            {\r\n              max: 10,\r\n              message: \"最大10个字符\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"确认密码\"\r\n          name=\"confirmPassword\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"再次确认密码\",\r\n            },\r\n            validateConfirm,\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            提交\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Component;\r\n"],"names":["Wrapper","styled","div","_templateObject","_taggedTemplateLiteral","Title","h1","_templateObject2","layout","labelCol","span","wrapperCol","tailLayout","offset","AuthStore","useStores","navigate","useNavigate","_jsxs","children","_jsx","Form","_objectSpread","name","onFinish","values","setUsername","username","setPassword","password","register","then","res","catch","err","console","log","onFinishFailed","errorInfo","Item","label","rules","required","message","validator","rule","value","test","Promise","reject","length","resolve","Input","min","max","Password","_ref","getFieldValue","Button","type","htmlType"],"sourceRoot":""}